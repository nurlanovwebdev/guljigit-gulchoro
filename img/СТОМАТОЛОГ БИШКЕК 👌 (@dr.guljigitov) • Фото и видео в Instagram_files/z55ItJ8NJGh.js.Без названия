if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("VideoPlayerWithThumbnail.react",["CometImage.react","CometVisualCompletionAttributes","VideoPlayerHooks","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState,k={root:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy"},thumbnail:{height:"x5yr21d",width:"x14atkfc"}};function a(a){var b=a.onLoad,e=a.src;a=a.thumbnailStyle;var f=d("VideoPlayerHooks").useVideoPlaybackEnded(),g=d("VideoPlayerHooks").usePaused(),l=j(!1),m=l[0],n=l[1];i(function(){g||n(!0)},[g]);return!f&&m?null:h.jsx("div",babelHelpers["extends"]({className:c("stylex")(k.root)},c("CometVisualCompletionAttributes").IGNORE,{children:h.jsx(c("CometImage.react"),{onLoad:b,src:e,xstyle:[k.thumbnail,a]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryConstants",["PolarisStyleConstants"],(function(a,b,c,d,e,f,g){"use strict";a=c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3;g.STORY_UPDATE_TICK_S=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;g.STORY_UPDATE_TICK_MS=a;g.STORY_IMAGE_DURATION=c("PolarisStyleConstants")["story-image-duration"].value}),98);
__d("PolarisStoriesAppInstallDialog.react",["fbt","IGCoreDialog","PolarisConfig","PolarisConfigConstants","PolarisIGCoreButton","PolarisLogger","PolarisOpenInApp","PolarisnavigationSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("\u0427\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0438\u043a\u0435\u0440\u044b, \u043d\u0443\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),k=h._("\u0412 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 Instagram \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u0438 \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0438\u0445.");h._("\u0412 Instagram \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u0438 \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0438\u0445. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0438 \u043c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043c \u0432\u0430\u043c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435.");var l=h._("\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),m=h._("\u041d\u0435 \u0441\u0435\u0439\u0447\u0430\u0441"),n=h._("OK");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),j=0;j<f;j++)g[j]=arguments[j];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){a.preventDefault(),d("PolarisLogger").logAction("storiesStickerUnsupportedAppsellClick",{stickerType:e.props.fallbackType,medium:"installLink",platform:d("PolarisConfig").getAppPlatform(),source:"storySticker"}),d("PolarisOpenInApp").flushLogsAndOpenInApp(e.props.android,e.props.ios,e.props.originalPath)},e.$2=function(){d("PolarisLogger").logAction("storiesStickerUnsupportedAppsellDismiss",{stickerType:e.props.fallbackType}),e.props.onClose()},e.$3=function(){return h._("\u0412 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 Instagram \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u0442\u0438\u043a\u0435\u0440\u044b \u0438 \u0440\u0435\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043d\u0438\u0445. \u0421\u043a\u0430\u0447\u0430\u0439\u0442\u0435 \u0435\u0433\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e \u0432 {app store} \u0438\u043b\u0438 {play store}.",[h._param("app store",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:e.$1,target:"_blank",children:h._("\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439")})),h._param("play store",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:e.$1,target:"_blank",children:h._("Play \u041c\u0430\u0440\u043a\u0435\u0442\u0435")}))])},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=d("PolarisConfig").getAppPlatform();switch(a){case d("PolarisConfigConstants").appPlatformTypes.ANDROID:case d("PolarisConfigConstants").appPlatformTypes.IOS:return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:k,onModalClose:this.$2,title:j,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:l}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:m})]});default:return i.jsx(d("IGCoreDialog").IGCoreDialog,{body:this.$3(),onModalClose:this.$2,title:j,children:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:n})})}};return b}(i.Component);function a(a){return babelHelpers["extends"]({},d("PolarisnavigationSelectors").getDeepLink__DEPRECATED(a))}e=d("react-redux-wwwig").connect(a)(b);g["default"]=e}),98);
__d("PolarisStoryTappablePopup.react",["cx","fbt","PolarisGuideLogger","PolarisGuideStrings","PolarisLinkBuilder","PolarisLogger","PolarisNavigationUtils","PolarisODS","Polarisunexpected","browserHistory","nullthrows","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onTagClick;a=a.tappedObject;var e=function(a){var e=null,f=function(){return null};switch(a.type){case"GraphTappableHashtag":a.attribution!=null&&a.customTitle!=null?e=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:a.customTitle}),j.jsx("div",{className:"_ac5q",children:a.attribution})]}):e=i._("\u0425\u044d\u0448\u0442\u0435\u0433");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildTagLink(c("nullthrows")(a.hashtagName)))};break;case"GraphTappableLocation":e=i._("\u0413\u0435\u043e\u0434\u0430\u043d\u043d\u044b\u0435");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildLocationLink({slug:"",id:c("nullthrows")(a.locationId)}))};break;case"GraphTappableMention":e=a.mentionFullname!=null&&a.mentionFullname!==""?a.mentionFullname:a.mentionUsername;f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.mentionUsername)))};break;case"TappableLink":e=i._("\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435");c("PolarisODS").incr("web.stories.link_sticker.view");f=function(){c("PolarisODS").incr("web.stories.link_sticker.clicks"),d("PolarisNavigationUtils").openExternalURL(d("PolarisLinkBuilder").buildWebLink(c("nullthrows")(a.url)))};break;case"GraphTappableFeedMedia":e=i._("\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044e");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(a.feedPostShortcode)))};break;case"GraphTappableGuide":e=d("PolarisGuideStrings").VIEW_GUIDE_STORY_CTA,f=function(){d("PolarisGuideLogger").logGuideEntry({entryPoint:"story",guideID:c("nullthrows")(a.guideId)}),d("PolarisLogger").logAction("guideStoryClick"),d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildGuideLink(c("nullthrows")(a.guideOwnerUsername),c("nullthrows")(a.guideTitle),c("nullthrows")(a.guideId)))}}f===null&&(f=function(){c("Polarisunexpected")("Tappable object type should be hashtag, location, or mention")});return{content:e,onClick:function(a){a.stopPropagation(),f(),b&&b(a)}}},f=c("nullthrows")(a.x)*100,g=c("nullthrows")(a.y)*100;f={left:f+"%",top:g+"%"};g=e(a);e=g.content;a=g.onClick;return j.jsxs("div",{className:"_ac5r",style:f,children:[j.jsxs("div",{className:"_ac5s",onClick:a,role:"dialog",children:[j.jsx("div",{className:"_ac5t",children:e}),j.jsx("div",{className:"_9znl"})]}),j.jsx("div",{className:"_ac5u"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectStoryPollOptionBackground.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.optionProportion,c=a.optionValue;a=a.userChoice;c=c===a;return i.jsx("div",{className:"_ac3i"+(c?" _ac3j":""),style:a!=null?{flex:b}:null,children:i.jsx("div",{className:"_ac3k"+(c?" _ac3l":"")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectStoryPollOptionText.react",["cx","PolarisEmojiHelper","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){return i.jsx("span",{className:"_ac46",children:a},a+"-"+b)}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.fontSize,c=a.height,e=a.label,f=a.onOptionSelected,g=a.optionProportion,h=a.optionValue,k=a.userChoice;a=a.width;e=e;var l=Math.round(g*100)+"%";k!=null&&g===0?(e="",l=""):k==null&&(l="");var m=c/(-.1022*b+5.675);return i.jsxs("div",{className:"_ac42",onClick:function(){f(h)},role:"button",style:{flex:k!=null?g:1,marginTop:c*(.00414*b-.027)+"px",minWidth:(g!==0?25:0)+"%",pointerEvents:k!=null?"none":"auto"},tabIndex:"0",children:[i.jsx("div",{className:"_ac43"+(h===0?" _ac44":"")+(h!==0?" _ac45":""),style:{maxWidth:a/2,fontSize:k!=null?m*.55:m},children:d("PolarisEmojiHelper").splitStrWithEmoji(e,j)}),i.jsx("div",{className:"_ac47"+(k!=null?" _ac48":""),style:k!=null?{fontSize:c/3+"px",top:"-"+c/8+"px"}:null,children:l})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectStoryPoll.react",["cx","JSResourceForInteraction","PolarisStoryActions","PolarisTappableObjectStoryPollOptionBackground.react","PolarisTappableObjectStoryPollOptionText.react","Polarisprefix","nullthrows","react","react-redux-wwwig","xigRequireInterop"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;c("JSResourceForInteraction")("PolarisAvenyFont").__setRef("PolarisTappableObjectStoryPoll.react").load().then(function(a){return c("xigRequireInterop")(a)});function a(a){var b=a.height,e=a.object,f=a.rotation;a=a.width;var g=e.pollViewerVote;g===null&&e.pollViewerCanInteract===!1&&(g=0);g=k(g);var h=g[0],l=g[1],m=d("react-redux-wwwig").useDispatch();g=h===0;var n=h===1,o=j(function(a){var b=e.pollId;if(h!=null||b==null||b==="")return;m(d("PolarisStoryActions").voteOnStoryPoll(b,a));l(a)},[m,e,h]),p=e.pollTallies;g=c("nullthrows")(p)[0].count+(e.pollViewerVote===null&&g&&1);p=c("nullthrows")(p)[1].count+(e.pollViewerVote===null&&n&&1);n=g+p;g=g/n;p=p/n;return i.jsxs("div",{className:"_ac54",style:c("Polarisprefix")({transform:"rotate("+f+"rad)"}),children:[i.jsxs("div",{className:"_ac55",children:[i.jsx(c("PolarisTappableObjectStoryPollOptionText.react"),{fontSize:c("nullthrows")(e.pollOptionAFontSize),height:b,label:c("nullthrows")(e.pollOptionA),onOptionSelected:o,optionProportion:g,optionValue:0,userChoice:h,width:a}),i.jsx(c("PolarisTappableObjectStoryPollOptionText.react"),{fontSize:c("nullthrows")(e.pollOptionBFontSize),height:b,label:c("nullthrows")(e.pollOptionB),onOptionSelected:o,optionProportion:p,optionValue:1,userChoice:h,width:a})]}),i.jsx(c("PolarisTappableObjectStoryPollOptionBackground.react"),{optionProportion:g,optionValue:0,userChoice:h}),i.jsx("div",{className:"_ac56"}),i.jsx(c("PolarisTappableObjectStoryPollOptionBackground.react"),{optionProportion:p,optionValue:1,userChoice:h})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisTappableObjectContainer.react",["cx","PolarisLogger","PolarisTappableObjectStoryPoll.react","Polarisprefix","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a){var b=a.id,e=a.isEnabled,f=a.mediaLayout,g=a.object,h=a.onTappableClick;k(function(){g.type==="GraphTappableFallback"&&d("PolarisLogger").logAction("storiesStickerUnsupportedRendered",{stickerType:g.fallbackType})},[g]);a=j(function(a){a.stopPropagation(),g.type==="GraphTappableFallback"?(d("PolarisLogger").logAction("storiesStickerUnsupportedClick",{stickerType:g.fallbackType,appsellShown:!0}),h(b)):h(b)},[g,b,h]);var l=function(d,a,b){switch(g.type){case"GraphTappableStoryPoll":return i.jsx(c("PolarisTappableObjectStoryPoll.react"),{height:b,object:g,rotation:d,width:a});default:return null}},m=g.width*f.layoutWidth,n=g.height*f.layoutHeight,o=.5*m,p=.5*n;o=g.x*f.layoutWidth-o;f=g.y*f.layoutHeight-p;p=g.rotation*Math.PI*2;o={left:o+"px",top:f+"px",width:m+"px",height:n+"px"};return i.jsxs("div",{className:"_abwz",style:o,children:[i.jsx("div",{className:"_abw-"+(e?" _abw_":""),onClick:a,role:"button",style:c("Polarisprefix")({transform:"rotate("+p+"rad)"}),tabIndex:"0"}),l(p,m,n)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryTappableObjects.react",["cx","fbt","PolarisIGBloksAsyncAppLauncher","PolarisStoriesAppInstallDialog.react","PolarisStoriesContext","PolarisStoryActionTypes","PolarisStoryActions","PolarisStoryTappablePopup.react","PolarisTappableObjectContainer.react","PolarisstorySelectors","cr:2333","cr:2334","immutable-4.0.0-rc.9","nullthrows","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useMemo,m=e.useState,n=function(a){var b=a.tappableObjectById,d=a.isPlaying,e=a.mediaLayout,f=a.handleTappableClick,g=a.tappedObjectId;return Object.keys(b).map(function(a){var h=b[a];return j.jsx(c("PolarisTappableObjectContainer.react"),{id:a,isEnabled:d||!!g,mediaLayout:e,object:h,onTappableClick:f},a)})},o=function(a){var b=a.tappableObjectById,e=a.tappedObjectId;a=a.tappedObjectTimestamp;var f=d("react-redux-wwwig").useDispatch();if(e==null||e==="")return null;b=b[e];if(b==null)return null;e=e+"_"+c("nullthrows")(a);if(b.type==="GraphTappableFallback")return j.jsx(c("PolarisStoriesAppInstallDialog.react"),{fallbackType:b.fallbackType,onClose:function(){f(d("PolarisStoryActions").resumeStorySession())}});return b.type==="BloksTappable"||b.type==="BloksSticker"?null:j.jsx(c("PolarisStoryTappablePopup.react"),{tappedObject:b},e)},p=function(a){var b=a.tappableObjectById,e=a.tappedObjectId;a=a.tappedObjectTimestamp;var f=d("react-redux-wwwig").useDispatch();if(e==null||e===""||a==null)return null;b=b[e];if(b==null)return null;e=e+"_"+a;if(b.type!=="BloksTappable")return null;a=b.bloks_app;return j.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:a,onResumeStoryPlayback:function(){f(d("PolarisStoryActions").resumeStorySession())},params:b.bloks_params},e)},q=function(a){var c=a.tappableObjectById,d=a.tappedObjectId;a=a.tappedObjectTimestamp;if(d==null||d===""||a==null)return null;c=c[d];if(c==null)return null;d=d+"_"+a;a=c.bloks_app;if(c.type!=="BloksSticker"||a==null)return null;var e={top:c.y*100+"%",left:c.x*100+"%",position:"relative",zIndex:2},f=null;if(b("cr:2333")!=null){var g;f=j.jsx(b("cr:2333"),{allowScreenOverflow:!0,appId:a,loadingFallback:j.jsx("div",{}),options:{cached:!0},params:c.bloks_params,props:new Map(Object.entries((g=c.bloks_props)!=null?g:{}))},d)}else b("cr:2334")!=null&&(f=j.jsx(b("cr:2334"),{appId:a,fallback:j.jsx("div",{}),options:{cached:!0},params:c.bloks_params,props:c.bloks_props},d));return j.jsx("div",{style:e,children:f})};function a(a){var b=a.isPlaying;a=a.mediaLayout;var c=d("react-redux-wwwig").useDispatch(),e=k(d("PolarisStoriesContext").StoriesContext),f=m(Date.now()),g=f[0],h=f[1],r=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getCurrentPostId(a)}),s=d("react-redux-wwwig").useSelector(function(a){return r==null?new(d("immutable-4.0.0-rc.9").List)():a.stories.tappableObjectsByPostId.get(r)});f=d("react-redux-wwwig").useSelector(function(a){return r==null?null:a.stories.tappedObjectId});var t=l(function(){var a={};s!=null&&s.forEach(function(b,c){a[""+c]=babelHelpers["extends"]({},b)});return a},[s]),u=function(a){h(Date.now()),c({type:d("PolarisStoryActionTypes").STORY_SET_TAPPED_OBJECT,tappedObjectId:a})};return j.jsxs("div",{"aria-label":i._("\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u043e\u043a\u0430\u0437 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u043e\u043a\u043d\u0430"),className:"_ac57"+(f?" _ac58":""),onClick:function(){c(d("PolarisStoryActions").resumeStorySession())},role:"button",style:e.mediaDimensions,tabIndex:"0",children:[j.jsx(n,{handleTappableClick:u,isPlaying:b,mediaLayout:a,tappableObjectById:t,tappedObjectId:f}),j.jsx(o,{tappableObjectById:t,tappedObjectId:f,tappedObjectTimestamp:g}),j.jsx(p,{tappableObjectById:t,tappedObjectId:f,tappedObjectTimestamp:g}),j.jsx(q,{tappableObjectById:t,tappedObjectId:f,tappedObjectTimestamp:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoryEventZone.react",["cx","PolarisStoriesProvider.react","PolarisStoryTappableObjects.react","getPolarisKeyCommandConfig","nullthrows","react","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo;function a(a){var b=a.onPause,e=a.onPlay,f=a.isFirstStory,g=a.isPlaying,h=a.onPrev,l=a.onNext,m=a.onNextReel,n=a.onPrevReel,o=a.onClose,p=a.mediaLayout;a=a.tappableStickersEligible;var q=d("PolarisStoriesProvider.react").useStoriesContext(),r=q.updateStoriesContext;q=function(a){a.preventDefault()};var s=j(function(a){r({isPaused:!0}),b(a)},[r,b]),t=j(function(a){r({isPaused:!1}),e(a)},[r,e]),u=j(function(){g?s():t()},[g,s,t]),v=k(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","togglePause",function(){u()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","nextStory",function(){l("tap_forward")}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","nextReel",function(){m("swipe_forward")}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","prevStory",function(){if(f)return;h()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","prevReel",function(){n()}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("stories","exit",function(){o()})]},[l,m,f,h,n,u,o]);c("useGlobalKeyCommands")(v);v=function(a){a.button===0&&s(a)};var w=function(a){a.button===0&&t(a)},x=function(a){s(a)},y=function(a){a.touches.length===0&&t(a)};return i.jsxs("div",{className:"_ac0x",children:[i.jsx("div",{className:"_ac0y",onContextMenu:q,onMouseDown:v,onMouseUp:w,onTouchEnd:y,onTouchStart:x,role:"dialog"}),a&&p!=null&&i.jsx(c("PolarisStoryTappableObjects.react"),{isPlaying:g,mediaLayout:c("nullthrows")(p)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMobileStoryEventZone.react",["cx","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryTappableObjects.react","PolarisstorySelectors","nullthrows","react","react-redux","react-redux-wwwig"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useRef,l=200,m=50,n=100,o=500;function a(a){var b=a.isFirstStory,e=a.isPlaying,f=a.mediaLayout,g=a.onClose,h=a.onNext,p=a.onNextReel,q=a.onPause,r=a.onPlay,s=a.onPrev,t=a.onPrevReel,u=a.onResume,v=a.showVideoPlayButton,w=a.tappableStickersEligible;a=a.viewerDimensions;var x=j(d("PolarisStoriesContext").StoriesContext),y=d("react-redux").useDispatch(),z=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost)),A=z.isSponsored,B=z.storyCtaUrl,C=k({pauseStart:null,touchStart:null,touchStartX:null,touchStartY:null});z=function(a){a.preventDefault()};var D=function(a){if(v)return;C.current.touchStart==null&&(C.current.touchStart=Date.now(),C.current.touchStartX=a.touches[0].clientX,C.current.touchStartY=a.touches[0].clientY);G(a)},E=function(a){if(v)return;a.touches.length===0&&H(a);F(a)},F=function(a){var b=C.current,d=b.touchStart,e=b.touchStartX;b=b.touchStartY;if(d!=null){d=Date.now()-c("nullthrows")(d);e=a.changedTouches[0].clientX-c("nullthrows")(e);a=a.changedTouches[0].clientY-c("nullthrows")(b);d<=o&&(Math.abs(a)>m&&Math.abs(e)<n?a<0?A?I():x.replyInputTextAreaRef!=null&&x.replyInputTextAreaRef.current!=null&&x.replyInputTextAreaRef.current.focus():g("swipe_down"):Math.abs(a)<n&&(e>m?t():e<-m&&p("swipe_forward")));C.current.touchStart=null;C.current.touchStartX=null;C.current.touchStartY=null}},G=function(a){q(),x.updateStoriesContext({isPaused:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startTapPauseTimer(),C.current.pauseStart==null&&(C.current.pauseStart=Date.now())},H=function(a){var b=C.current.pauseStart;b!=null&&(u(),x.updateStoriesContext({isPaused:!1}),y(d("PolarisStoryActions").logStoriesMediaPause(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData().tapPauseTime)),Date.now()-b>=l&&(a.stopPropagation(),a.preventDefault()));C.current.pauseStart=null},I=function(){B!=null&&y(d("PolarisStoryActions").openCtaUrl(B,"story_cta_swipeup"))},J=function(a){y(d("PolarisStoryActions").resumeStorySession()),r(a)};return i.jsxs("div",{className:"_aafd",style:a,children:[i.jsxs("div",{className:"_aafe",onContextMenu:z,onTouchEnd:E,onTouchStart:D,role:"button",tabIndex:"0",children:[i.jsx("button",{className:"_aaff _aafg",onClick:b?null:s}),i.jsx("button",{className:"_aafh",onClick:b?null:s}),i.jsx("button",{className:"_aafi",onClick:function(){return h("tap_forward")}}),i.jsx("button",{className:"_aafj _aafg",onClick:function(){return h("tap_forward")}}),v&&i.jsx("div",{className:"_aafk",children:i.jsx("button",{className:"_aafl _9zwu",onClick:J})})]}),w&&f!=null&&i.jsx(c("PolarisStoryTappableObjects.react"),{isPlaying:e,mediaLayout:c("nullthrows")(f)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XIGStoriesHelpers",["useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useRouteReferrer")();return(a==null?void 0:a.navigationType)==="initial"||(a==null?void 0:a.navigationType)==="reload"}g.useNeedsTapToStart=a}),98);
__d("PolarisStoriesComponent.react",["XIGStoriesHelpers","cr:2883","cr:3914","cr:4381","cr:4689","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=d("XIGStoriesHelpers").useNeedsTapToStart(),f=function(){if(b("cr:3914"))return a.viewerIsLoggedIn||a.isLoggedOutHighlightViewer===!0?b("cr:3914"):b("cr:2883");if(b("cr:4689"))return a.viewerIsLoggedIn||a.isLoggedOutHighlightViewer===!0?b("cr:4689"):b("cr:4381")};f=f();if(f==null)throw c("err")("No root story component");return h.jsx("div",{style:{height:"100vh",width:"100%",position:"fixed"},children:h.jsx(f,babelHelpers["extends"]({},a,{needsTapToStart:e}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesMediaRoot.react",["PolarisLinkBuilder","PolarisStoriesComponent.react","PolarisStoryActions","PolarisisUserLoggedIn","PolarisstorySelectors","nullthrows","promiseDone","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.props;var b=a.routeProps,e=b.show_qr_modal,f=b.user;b=a.routeParams;var g=b.initial_media_id;a=b.username;var k=d("react-redux-wwwig").useDispatch();b=j(!1);var l=b[0],m=b[1];b=d("PolarisisUserLoggedIn").isUserLoggedIn();if(!b&&a!=null){var n=d("PolarisLinkBuilder").buildUserStoryLink(a);k(d("PolarisStoryActions").initStoryAuth(n))}n=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,c("nullthrows")(f.id))});var o=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentStoryPosition),p=!n||n.itemIds==null||o==null;i(function(){!l&&p&&c("promiseDone")(k(d("PolarisStoryActions").initStoryPage({owner:f,initialMediaId:g})).then(function(){m(!0)}))},[p,k,g,l,f]);return h.jsx(c("PolarisStoriesComponent.react"),{initializing:p&&l===!1,showQRModal:e,username:a,viewerIsLoggedIn:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryEventZone",["PolarisDesktopStoryEventZone.react","PolarisMobileStoryEventZone.react","PolarisStoryActions","VideoPlayerHooks","emptyFunction","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.isVideo,e=a.videoWidth,f=a.videoHeight,g=a.isDesktop,j=a.playButtonClicked,k=a.onPlayButtonClick,l=a.thumbnailLoaded,m=a.onNext,n=a.onNextReel,o=a.onPrev,p=a.onPrevReel,q=a.isFirstStory;a=a.autoplay;var r=d("VideoPlayerHooks").useController(),s=d("react-redux-wwwig").useDispatch(),t=d("VideoPlayerHooks").usePaused(),u=d("VideoPlayerHooks").usePlaying(),v=i(function(a){a===void 0&&(a="tap_exit"),s(d("PolarisStoryActions").closeReels(a))},[s]),w=i(function(){t&&r.play("user_initiated"),k()},[r,t,k]),x=i(function(){u&&r.pause("user_initiated")},[r,u]);l=l&&!j;a&&(l=!1);if(g)return h.jsx(c("PolarisDesktopStoryEventZone.react"),{isFirstStory:q,isPlaying:u,isVideo:b,mediaLayout:{layoutHeight:f,layoutWidth:e},onClose:v,onNext:m,onNextReel:n,onPause:c("emptyFunction"),onPlay:c("emptyFunction"),onPrev:o,onPrevReel:p,onResume:c("emptyFunction"),showVideoPlayButton:!1,tappableStickersEligible:!0});else return h.jsx(c("PolarisMobileStoryEventZone.react"),{isFirstStory:q,isPlaying:u,isVideo:b,mediaLayout:{layoutHeight:f,layoutWidth:e},onClose:v,onNext:function(a){return m(a,!1)},onNextReel:function(a){return n(a,!1)},onPause:x,onPlay:w,onPrev:function(){return o(!1)},onPrevReel:function(){return p(!1)},onResume:w,showVideoPlayButton:l,tappableStickersEligible:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePolarisStoryMobilePreplay",["PolarisStoryConstants","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function a(a,b,c,e,f,g){var k=d("VideoPlayerHooks").usePlaying(),l=j(0),m=j(null),n=h(function(){m.current!=null&&(window.clearInterval(m.current),m.current=null),a!=null&&a(0)},[a]);i(function(){if(!f||b||k||a==null||e||g)return;if(m.current!=null)return;m.current=window.setInterval(function(){l.current+=d("PolarisStoryConstants").STORY_UPDATE_TICK_S;var b=Math.min(l.current*100/d("PolarisStoryConstants").STORY_IMAGE_DURATION,100);a(b);b===100&&(n(),c("automatic_forward",!1))},d("PolarisStoryConstants").STORY_UPDATE_TICK_MS);return function(){n()}},[n,e,b,k,a,c,f,g])}g["default"]=a}),98);
__d("usePolarisStoryProgressUpdater",["PolarisStoryConstants","VideoPlayerHooks","useInterval"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=d("PolarisStoryConstants").STORY_UPDATE_TICK_MS);var e=d("VideoPlayerHooks").useController(),f=d("VideoPlayerHooks").usePlaying();c("useInterval")(function(){if(!f)return;var b=e.getPlayheadPosition(),c=e.getCurrentState().duration;if(c>0){b=Math.min(b/c*100,100);a!=null&&a(b)}},b,[e,a,f])}g["default"]=a}),98);
__d("usePolarisStorySeenStateTracker",["PolarisStoryActions","VideoPlayerHooks","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b,c){var e=i(!1),f=d("VideoPlayerHooks").usePlaying(),g=d("react-redux-wwwig").useDispatch();h(function(){if(e.current===!0)return;(c||f)&&(g(d("PolarisStoryActions").updateReelSeen(a,b)),e.current=!0)},[g,f,b,a,c])}g["default"]=a}),98);
__d("usePolarisStoryVideoMuteControl",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=d("VideoPlayerHooks").useController(),c=d("VideoPlayerHooks").useMuted();h(function(){a!==c&&b.setMuted(a,"user_initiated")},[b,a,c])}g["default"]=a}),98);
__d("usePolarisStoryVideoPlaybackControl",["PolarisStoriesProvider.react","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(a,b,c,e,f){var g=d("VideoPlayerHooks").useController(),j=d("VideoPlayerHooks").usePaused(),k=d("VideoPlayerHooks").usePlaying(),l=d("VideoPlayerHooks").useEnded(),m=d("PolarisStoriesProvider.react").useStoriesContext(),n=m.updateStoriesContext;m=i(!1);var o=m[0],p=m[1];h(function(){f&&n({isPaused:!1})},[n,f]);h(function(){if(!c||e)return;a!==j&&(a?g.pause("user_initiated"):g.play("user_initiated"))},[g,c,a,e,j]);h(function(){l&&b("automatic_forward",!1)},[l,b]);h(function(){e&&k&&(g.pause("user_initiated"),p(!0))},[g,e,k]);h(function(){o&&!e&&(g.play("user_initiated"),p(!1))},[g,e,o])}g["default"]=a}),98);
__d("usePolarisStoryVideoXControllerLogger",["PolarisPageIdentifierConstants","PolarisStoriesLoggingUtils","PolarisVideoHelpers","PolarisadsSelectors","PolarisrelationshipSelectors","VideoPlayerHooks","react","react-redux-wwwig","usePolarisVideoXControllerLogger"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b,e=(b=(b=a.owner)==null?void 0:b.id)!=null?b:"",f=d("VideoPlayerHooks").useController();b=d("PolarisadsSelectors").useStoryAdInfo(a.id,function(a){return a});var g=d("react-redux-wwwig").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,e)}),j=i(null);h(function(){var a=f.subscribe(function(){var a=f.getCurrentState(),b=j.current;(b==null?void 0:b.paused)===!1&&a.paused===!0&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer();(b==null?void 0:b.playing)===!1&&a.playing===!0&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer();j.current=a});return function(){a.remove()}},[f]);return c("usePolarisVideoXControllerLogger")({adInfo:b,analyticsContext:c("PolarisPageIdentifierConstants").StoriesPage,carouselParentId:a.carouselParentId,dashInfo:d("PolarisVideoHelpers").getDashInfoFromPost(a),id:a.id,owner:a.owner,postedAt:a.postedAt,relationship:g,trackingToken:a.trackingToken})}g["default"]=a}),98);
__d("PolarisStoryVideoPlayerSurface.react",["PolarisIGCoreSpinner","PolarisStoriesProvider.react","PolarisStoryMediaOverlayInfoFooterCTA.react","PolarisgetPostFromGraphMediaInterface","VideoPlayerHooks","VideoPlayerSurface.react","VideoPlayerWithThumbnail.react","cr:4431","react","usePolarisStoryEventZone","usePolarisStoryMobilePreplay","usePolarisStoryProgressUpdater","usePolarisStorySeenStateTracker","usePolarisStoryVideoMuteControl","usePolarisStoryVideoPlaybackControl","usePolarisStoryVideoXControllerLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e=a.post,f=a.onUpdatePlayPercentage,g=a.onNext,j=a.onNextReel,k=a.onPrev,l=a.onPrevReel,m=a.videoWidth,n=a.videoHeight,o=a.autoplay,p=a.isDesktop,q=a.reelId,r=a.mediaRef;a=a.isFirstStory;var s=d("VideoPlayerHooks").useStalling(),t=d("PolarisStoriesProvider.react").useStoriesContext(),u=t.isMuted,v=t.isPaused;t=t.isPlaybackDisabled;var w=i(!1),x=w[0],y=w[1];w=i(!1);var z=w[0],A=w[1];w=b("cr:4431")(e);c("usePolarisStoryVideoXControllerLogger")(e);c("usePolarisStoryVideoMuteControl")(u);c("usePolarisStoryVideoPlaybackControl")(v,g,p,t,o===!0);c("usePolarisStoryProgressUpdater")(f);c("usePolarisStoryMobilePreplay")(f,p,g,x,z,o===!0);c("usePolarisStorySeenStateTracker")(q,e.id,z);u=c("usePolarisStoryEventZone")({onNext:g,onNextReel:j,onPrev:k,onPrevReel:l,isVideo:!0,videoWidth:m,videoHeight:n,isDesktop:p,playButtonClicked:x,onPlayButtonClick:function(){y(!0)},thumbnailLoaded:z,isFirstStory:a,autoplay:o===!0});v=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(e,!0);return h.jsx(c("VideoPlayerSurface.react"),{children:h.jsxs("div",{className:"xh8yej3 x5yr21d",ref:r,children:[s&&h.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"}),w,e.src!=null&&h.jsx(c("VideoPlayerWithThumbnail.react"),{onLoad:function(){return A(!0)},src:e.src}),u,v&&h.jsx(c("PolarisStoryMediaOverlayInfoFooterCTA.react"),{bannerInfo:v,disableImpressionLogging:!1,entityID:e.id})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisGetStoryMediaLayout",[],(function(a,b,c,d,e,f){"use strict";var g=1.3,h=1;function a(a,b,c,d){if(a==null)return[c,d];b=b?h:g;c=c;d=d;var e=c/d;a=a.width/a.height;e/a>b||a/e>b?e>a?c=d*a:d=c/a:e>a?d=c/a:c=d*a;return[d,c]}f.getStoryMediaLayout=a}),66);
__d("PolarisStoryVideoPlayerWrapper.react",["PolarisGetStoryMediaLayout","PolarisResponsiveBlock.react","PolarisStoriesProvider.react","PolarisadsSelectors","PolarisdisplayPropertiesSelectors","react","react-redux-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b,e,f=a.children,g=a["data-testid"],j=a.post;g=a.isDesktop;var k=a.videoWidth,l=a.videoHeight,m=a.setVideoHeight,n=a.setVideoWidth,o=d("react-redux-wwwig").useSelector(d("PolarisdisplayPropertiesSelectors").getIsTallDevice);a=d("PolarisStoriesProvider.react").useStoriesContext();var p=a.updateStoriesContext;a=i(function(a,b){a=d("PolarisGetStoryMediaLayout").getStoryMediaLayout(j.dimensions,o,a,b);b=a[0];a=a[1];m(b);n(a);p({mediaDimensions:{height:b,width:a}})},[o,j.dimensions,m,n,p]);b=(b=d("PolarisadsSelectors").useStoryAdInfo(j.id,function(a){return a}))==null?void 0:(b=b.reelMediaBackgrounds)==null?void 0:b.get(j.id);e=(b==null?void 0:(e=b.top)==null?void 0:e.background_color)!=null&&(b==null?void 0:(e=b.bottom)==null?void 0:e.background_color)!=null?{background:"linear-gradient("+b.top.background_color+", "+b.bottom.background_color+")"}:null;return h.jsx(c("PolarisResponsiveBlock.react"),{className:"xh8yej3 x10wlt62 x6ikm8r xl56j7k x5yr21d x78zum5 x6s0dn4"+(g?" x9jhf4c x30kzoy xgqcy7u x1lq5wgf":""),"data-testid":void 0,onResize:a,style:e,children:h.jsx("div",{className:"xzjhpmk x1n2onr6 xkhd6sd x18d9i69 x4uap5 xexx8yu x1mh8g0r xat24cr x11i5rnm xdj266r xk390pu x1lliihq x9f619 xav7gou xaqea5y x1b1mbwd x6umtig x1qjc9v5",style:{width:k,height:l},children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryVideoPlayer.react",["PolarisSponsoredStoryCaption.react","PolarisSponsoredStoryCaptionUtils","PolarisStoriesProvider.react","PolarisStoryVideoPlayerSurface.react","PolarisStoryVideoPlayerWrapper.react","PolarisUA","PolarisVideoHelpers","PolarisVideoX.react","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b,e=a.post,f=a.onUpdatePlayPercentage,g=a.onNext,j=a.onNextReel,k=a.onPrev,l=a.onPrevReel,m=a.reelId,n=a.mediaRef;a=a.isFirstStory;var o=i(0),p=o[0];o=o[1];var q=i(0),r=q[0];q=q[1];var s=d("PolarisStoriesProvider.react").useStoriesContext(),t=s.viewerHeight;s=s.viewerWidth;if(e.isVideo!==!0)return null;var u=d("PolarisUA").isDesktop();b=(b=d("PolarisVideoHelpers").getSDVideoSrcFromPost(e))!=null?b:e.videoUrl;var v=d("PolarisVideoHelpers").getHDVideoSrcFromPost(e),w=u||c("qex")._("540")===!0,x=u||c("qex")._("1305")===!0,y=e.caption!=null&&e.isSponsored;t=d("PolarisSponsoredStoryCaptionUtils").getSponsoredStoryCaptionMediaValues(t,p);var z=t.maxCaptionHeight,A=t.mediaOffset;t=t.captionOffset;return h.jsxs(c("PolarisStoryVideoPlayerWrapper.react"),{"data-testid":void 0,isDesktop:u,post:e,setVideoHeight:o,setVideoWidth:q,videoHeight:p,videoWidth:r,children:[h.jsx("div",{style:{position:"relative",top:y?-A:0},children:h.jsx(c("PolarisVideoX.react"),{autoplay:w,dashInfo:x?d("PolarisVideoHelpers").getDashInfoFromPost(e):void 0,hdSrc:v,loopCount:0,mediaId:e.id,originalHeight:(o=e.dimensions)==null?void 0:o.height,originalWidth:(q=e.dimensions)==null?void 0:q.width,sdSrc:b,children:h.jsx(c("PolarisStoryVideoPlayerSurface.react"),{autoplay:w,isDesktop:u,isFirstStory:a,mediaRef:n,onNext:g,onNextReel:j,onPrev:k,onPrevReel:l,onUpdatePlayPercentage:f,post:e,reelId:m,videoHeight:p,videoWidth:r})},e.id)}),e.caption!=null&&e.isSponsored&&h.jsx("div",{style:{position:"relative",top:-t},children:h.jsx(c("PolarisSponsoredStoryCaption.react"),{caption:e.caption,maxCaptionHeight:z,maxCaptionWidth:s,textBackgroundColor:e.captionBackgroundColor,textBackgroundColorAlpha:e.captionBackgroundColorAlpha,textColor:e.captionTextColor,textSize:e.captionTextSize})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);